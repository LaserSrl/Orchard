tinymce.PluginManager.add("orchardcontentlinks",function(n,t){var e=function(){var t={},e="_contentpicker_"+new Date().getTime();t.callbackName=e,$[e]=function(t){delete $[e];var a=n.selection.getContent();a&&""!=a||(a=t.displayText),n.insertContent('<a href="#{ContentManager.Get:'+t.id.toString()+'.DisplayUrl}">'+a+"</a>")},$[e].data=t;var a=baseOrchardPath;"/"==a.slice(-1)&&(a=a.substr(0,a.length-1));var i=a+"/Admin/Orchard.ContentPicker?";i+="callback="+e+"&"+(new Date-0),$("#"+n.id).data("content-types")&&(i+="&types="+$("#"+n.id).data("content-types")),window.open(i,"_blank",t.windowFeatures||"width=685,height=700,status=no,toolbar=no,location=no,menubar=no,resizable=no,scrollbars=yes")};return n.addButton("orchardlink",{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QAEABHAPK/xSSIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB3klEQVRIx9XVvUuVcRQH8I/e61WSIrMXG4xqaKihDCIbIsolgv6BhkaH1sbGoK2hvS3aKiepcGmICCQIaY+SpFChFE1T7235Xni4XB8dNOjA4fm9nfM9b8857DJ1tOz7cRG3sq6UyM7iJZ7j93YBL+MFFlBHo4QXMYHb6GljLKi27E9gBDU8xfImhtzEUQxHxzJeYSngm9JoHsxjoOTdm4InS5jEdfS1etK5A3ncg3N4mPz17jRAM9SncB9XdgOgCXIah8uSvF16hGeF/T7cS7i6dgJgrGU/gLsBsFshakv/P0B1m0Z0FLiOjdxVcjaHIwWZSrPVbAXQHcHBVMpamtx07o7hQIxYCVgVv/AVs2UAFRxP32n+obN4jykMhfdG6XxKtC/d9S3GywC6cCE95nsUL+ATDqY9LOR8NVzD/nTlG5iubhH7k/iDJ3hdyNlQZsFcFH/Bj9zVY9AoBssAGlFQiSdrWE+cO7MeTg4mkqND8eJ8CuFnGcB62vAZXMOlJK+SuK9k0LwL+EgA+5OvSUxV2yhdzYMHuIPHOJtqWon1vYXQfIi3fVn34Bs+4nOr1VcxXhiZzWqqFbi78C0aWIvy5ruKNkN9ETMRnsnYbCSe7bhekN1IBJp3Df+C/gLjrnlNxkqTcgAAAABJRU5ErkJggg==",tooltip:"Content link",onclick:e}),n.addMenuItem("orchardlink ",{text:"content link",context:"insert",onclick:e}),{getMetadata:function(){return{name:"Orchard content link plugin"}}}});